<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
<meta name="description" content="æ–‡åŒ–åºèªå®šã®æ—¥æœ¬éºç”£118ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å®Œå…¨ç‰ˆã€‚è©³ç´°èª¬æ˜ãƒ»è‹±è¨³ä»˜ãã€‚ãŠæ°—ã«å…¥ã‚Šãƒ»è¨ªå•è¨˜éŒ²æ©Ÿèƒ½ä»˜ãè¦³å…‰ã‚¬ã‚¤ãƒ‰ã€‚">
<title>æ—¥æœ¬éºç”£ 118 è¦³å…‰ã‚¬ã‚¤ãƒ‰å®Œå…¨ç‰ˆ | Japan Heritage Complete Guide</title>
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  :root {
    --primary-color: #4b6cb7;
    --primary-dark: #182848;
    --accent-color: #7f8c8d;
    --accent-warm: #e74c3c;
    --accent-gold: #f39c12;
    --bg-color: #f4f6f9;
    --card-bg: #ffffff;
    --text-primary: #333;
    --text-secondary: #555;
    --border-radius: 12px;
    --shadow-sm: 0 4px 12px rgba(0,0,0,0.08);
    --shadow-md: 0 8px 20px rgba(0,0,0,0.12);
    --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
    --transition: all 0.3s ease;
  }

  body {
    font-family: "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    line-height: 1.7;
    color: var(--text-primary);
    background: var(--bg-color);
    scroll-behavior: smooth;
  }

  body.lang-en {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  body.lang-ja .en-text { display: none !important; }
  body.lang-en .ja-text { display: none !important; }

  .container {
    max-width: 1600px;
    margin: 0 auto;
    padding: 20px;
  }

  /* === è¨€èªåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ === */
  .language-toggle {
    position: fixed;
    top: 10px;
    right: 10px;
    z-index: 1001;
    display: flex;
    gap: 3px;
    background: white;
    padding: 2px 4px;
    border-radius: 20px;
    box-shadow: var(--shadow-sm);
  }

  .lang-btn {
    padding: 5px 10px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    border-radius: 15px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.75em;
    transition: var(--transition);
    font-family: inherit;
  }

  .lang-btn:hover { background: var(--bg-color); }
  .lang-btn.active {
    background: var(--primary-color);
    color: white;
  }

  /* === ãƒ˜ãƒƒãƒ€ãƒ¼ === */
  header {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 40px 20px;
    text-align: center;
    margin-bottom: 30px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-lg);
  }

  header h1 {
    font-size: clamp(1.8em, 4vw, 2.4em);
    margin-bottom: 8px;
    font-weight: 700;
  }

  header .subtitle {
    font-size: clamp(0.9em, 2vw, 1.1em);
    opacity: 0.9;
  }

  /* === çµ±è¨ˆæƒ…å ± === */
  .stats {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin: 20px 0;
    flex-wrap: wrap;
  }

  .stat-item {
    background: rgba(255, 255, 255, 0.15);
    padding: 15px 25px;
    border-radius: 8px;
    backdrop-filter: blur(10px);
  }

  .stat-number {
    font-size: 2em;
    font-weight: 700;
    display: block;
  }

  .stat-label {
    font-size: 0.9em;
    opacity: 0.9;
  }

  /* === æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒªã‚¢ === */
  .controls {
    background: var(--card-bg);
    padding: 25px;
    border-radius: var(--border-radius);
    margin-bottom: 30px;
    box-shadow: var(--shadow-sm);
  }

  .search-box {
    position: relative;
    margin-bottom: 20px;
  }

  .search-box input {
    width: 100%;
    padding: 15px 50px 15px 20px;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 1em;
    transition: var(--transition);
    font-family: inherit;
  }

  .search-box input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(75, 108, 183, 0.1);
  }

  .search-icon {
    position: absolute;
    right: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--accent-color);
    font-size: 1.2em;
  }

  /* === ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¿ãƒ– === */
  .filter-tabs {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
    flex-wrap: wrap;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 10px;
  }

  .filter-tab {
    padding: 8px 16px;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 0.95em;
    font-weight: 600;
    border-radius: 8px 8px 0 0;
    transition: var(--transition);
    font-family: inherit;
  }

  .filter-tab:hover {
    background: var(--bg-color);
  }

  .filter-tab.active {
    background: var(--primary-color);
    color: white;
  }

  .filter-content {
    display: none;
  }

  .filter-content.active {
    display: flex;
  }

  .filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .filter-btn {
    padding: 10px 20px;
    border: 2px solid var(--primary-color);
    background: transparent;
    color: var(--primary-color);
    border-radius: 25px;
    cursor: pointer;
    font-size: 0.95em;
    font-weight: 600;
    transition: var(--transition);
    font-family: inherit;
  }

  .filter-btn:hover {
    background: var(--primary-color);
    color: white;
    transform: translateY(-2px);
  }

  .filter-btn.active {
    background: var(--primary-color);
    color: white;
  }

  /* === çµæœè¡¨ç¤º === */
  .results-info {
    text-align: center;
    padding: 15px;
    margin-bottom: 20px;
    background: #e8f4f8;
    border-radius: 8px;
    font-weight: 600;
    color: var(--primary-dark);
  }

  .no-results {
    text-align: center;
    padding: 60px 20px;
    color: var(--text-secondary);
    font-size: 1.2em;
  }

  /* === åœ°åŸŸãƒ–ãƒ­ãƒƒã‚¯ === */
  .region-block {
    margin-bottom: 50px;
    opacity: 1;
    transition: opacity 0.3s ease;
  }

  .region-block.hidden {
    display: none;
  }

  .region-title {
    font-size: clamp(1.5em, 3vw, 2em);
    color: var(--primary-dark);
    padding-bottom: 10px;
    margin-bottom: 25px;
    border-bottom: 4px solid var(--primary-color);
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
  }

  .region-count {
    font-size: 0.6em;
    color: var(--accent-color);
    font-weight: 400;
  }

  /* === ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ === */
  .story-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 22px;
  }

  .story-card {
    background: var(--card-bg);
    border-radius: 10px;
    padding: 22px;
    padding-top: 50px;
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    display: flex;
    flex-direction: column;
    border: 2px solid transparent;
    position: relative;
    cursor: pointer;
  }

  /* === ã‚«ãƒ¼ãƒ‰ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ === */
  .card-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 5px;
    z-index: 10;
  }

  .card-action-btn {
    background: rgba(255, 255, 255, 0.9);
    border: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: var(--transition);
    font-size: 1.1em;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .card-action-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 3px 12px rgba(0,0,0,0.2);
  }

  .card-action-btn.favorite.active {
    background: var(--accent-warm);
    color: white;
  }

  .card-action-btn.visited.active {
    background: var(--accent-gold);
    color: white;
  }

  .story-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--primary-color);
    transform: scaleY(0);
    transition: transform 0.3s ease;
  }

  .story-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
    border-color: var(--primary-color);
  }

  .story-card:hover::before {
    transform: scaleY(1);
  }

  /* === ãƒãƒƒã‚¸ === */
  .card-badges {
    display: flex;
    gap: 5px;
    margin-bottom: 10px;
    flex-wrap: wrap;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 3px;
    font-size: 0.75em;
    padding: 3px 8px;
    border-radius: 12px;
    font-weight: 700;
  }

  .badge.favorite {
    background: #ffe5e5;
    color: var(--accent-warm);
  }

  .badge.visited {
    background: #fff3cd;
    color: var(--accent-gold);
  }

  .story-title {
    font-size: 1.25em;
    color: var(--text-primary);
    font-weight: 700;
    margin-bottom: 12px;
    flex-grow: 1;
    line-height: 1.4;
  }

  .story-location {
    font-size: 0.9em;
    color: var(--text-secondary);
    background: #f8f9fa;
    padding: 8px 12px;
    border-radius: 6px;
    border-left: 4px solid var(--accent-color);
    line-height: 1.5;
  }

  .story-location .icon {
    margin-right: 5px;
    color: var(--primary-color);
  }

  .wide-area-badge {
    display: inline-block;
    background: linear-gradient(135deg, #ff9a56 0%, #ff6b6b 100%);
    color: white;
    font-size: 0.75em;
    padding: 3px 10px;
    border-radius: 12px;
    margin-bottom: 8px;
    font-weight: 700;
    letter-spacing: 0.5px;
  }

  body.lang-ja .wide-area-badge::after { content: " åºƒåŸŸ"; }
  body.lang-en .wide-area-badge::after { content: " | Wide-area"; }

  /* === è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« === */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    padding: 20px;
    overflow-y: auto;
  }

  .modal-overlay.active {
    display: flex;
  }

  .modal-content {
    background: white;
    border-radius: var(--border-radius);
    max-width: 800px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-lg);
    position: relative;
    animation: modalSlideIn 0.3s ease;
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .modal-header {
    background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 25px;
    border-radius: var(--border-radius) var(--border-radius) 0 0;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  .modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    font-size: 1.8em;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
  }

  .modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
  }

  .modal-title {
    font-size: 1.8em;
    margin-bottom: 10px;
    padding-right: 50px;
  }

  .modal-location {
    opacity: 0.9;
    font-size: 1em;
  }

  .modal-body {
    padding: 30px;
  }

  .modal-section {
    margin-bottom: 25px;
  }

  .modal-section-title {
    font-size: 1.3em;
    color: var(--primary-dark);
    margin-bottom: 12px;
    border-bottom: 2px solid var(--primary-color);
    padding-bottom: 8px;
  }

  .modal-description {
    line-height: 1.8;
    color: var(--text-primary);
  }

  .modal-highlights {
    margin-top: 10px;
  }

  .modal-highlights ul {
    list-style: none;
    padding: 0;
  }

  .modal-highlights li {
    padding: 8px 0;
    padding-left: 25px;
    position: relative;
  }

  .modal-highlights li::before {
    content: "âœ“";
    position: absolute;
    left: 0;
    color: var(--primary-color);
    font-weight: 700;
  }

  .modal-actions {
    display: flex;
    gap: 10px;
    padding: 20px 30px;
    background: var(--bg-color);
    border-radius: 0 0 var(--border-radius) var(--border-radius);
  }

  .modal-action-btn {
    flex: 1;
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    font-family: inherit;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }

  .btn-favorite {
    background: var(--accent-warm);
    color: white;
  }

  .btn-visited {
    background: var(--accent-gold);
    color: white;
  }

  .btn-favorite:hover,
  .btn-visited:hover {
    opacity: 0.9;
    transform: translateY(-2px);
  }

  /* === ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ === */
  .back-to-top {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 1.5em;
    cursor: pointer;
    box-shadow: var(--shadow-md);
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
    z-index: 1000;
  }

  .back-to-top.visible {
    opacity: 1;
    visibility: visible;
  }

  .back-to-top:hover {
    background: var(--primary-dark);
    transform: translateY(-3px);
  }

  /* === ãƒ•ãƒƒã‚¿ãƒ¼ === */
  footer {
    text-align: center;
    padding: 30px 20px;
    margin-top: 50px;
    color: var(--text-secondary);
    border-top: 2px solid #e0e0e0;
  }

  /* === ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– === */
  @media (max-width: 768px) {
    .container { padding: 15px; }
    header { padding: 30px 15px; margin-bottom: 20px; }
    .stats { gap: 15px; }
    .controls { padding: 20px 15px; }
    .story-grid { grid-template-columns: 1fr; gap: 18px; }
    .modal-content { max-width: 100%; margin: 10px; }
    .modal-body { padding: 20px; }
    .modal-actions { flex-direction: column; }
  }

  .story-card.hidden { display: none !important; }
</style>
</head>
<body class="lang-ja">

<!-- è¨€èªåˆ‡ã‚Šæ›¿ãˆ -->
<div class="language-toggle">
  <button class="lang-btn active" data-lang="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
  <button class="lang-btn" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
</div>

<div class="container">
  <header>
    <h1>
      <span class="ja-text">ğŸ‡¯ğŸ‡µ æ—¥æœ¬éºç”£ 118 è¦³å…‰ã‚¬ã‚¤ãƒ‰ã€è©³ç´°ç‰ˆã€‘</span>
      <span class="en-text">ğŸ‡¯ğŸ‡µ Japan Heritage 118 Stories [Detailed Edition]</span>
    </h1>
    <p class="subtitle">
      <span class="ja-text">å„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®è©³ã—ã„é­…åŠ›ã‚’è§£èª¬</span>
      <span class="en-text">Discover the Details of Each Heritage Story</span>
    </p>
    <div class="stats">
      <div class="stat-item">
        <span class="stat-number">118</span>
        <span class="stat-label">
          <span class="ja-text">èªå®šã‚¹ãƒˆãƒ¼ãƒªãƒ¼</span>
          <span class="en-text">Stories</span>
        </span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="favoriteCount">0</span>
        <span class="stat-label">
          <span class="ja-text">ãŠæ°—ã«å…¥ã‚Š</span>
          <span class="en-text">Favorites</span>
        </span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="visitedCount">0</span>
        <span class="stat-label">
          <span class="ja-text">è¨ªå•æ¸ˆã¿</span>
          <span class="en-text">Visited</span>
        </span>
      </div>
      <div class="stat-item">
        <span class="stat-number" id="visibleCount">118</span>
        <span class="stat-label">
          <span class="ja-text">è¡¨ç¤ºä¸­</span>
          <span class="en-text">Showing</span>
        </span>
      </div>
    </div>
  </header>

  <section class="controls">
    <!-- ã‚¿ãƒ– -->
    <div class="filter-tabs">
      <button class="filter-tab active" data-tab="region">
        <span class="ja-text">ğŸ—¾ åœ°åŸŸ</span>
        <span class="en-text">ğŸ—¾ Region</span>
      </button>
      <button class="filter-tab" data-tab="status">
        <span class="ja-text">â­ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</span>
        <span class="en-text">â­ Status</span>
      </button>
    </div>

    <div class="search-box">
      <input
        type="search"
        id="searchInput"
        placeholder="ã‚¹ãƒˆãƒ¼ãƒªãƒ¼åã‚„åœ°åŸŸåã§æ¤œç´¢..."
      >
      <span class="search-icon">ğŸ”</span>
    </div>

    <!-- åœ°åŸŸãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
    <div class="filter-buttons filter-content active" id="regionFilters">
      <button class="filter-btn active" data-region="all">
        <span class="ja-text">ã™ã¹ã¦</span>
        <span class="en-text">All</span>
      </button>
      <button class="filter-btn" data-region="hokkaido-tohoku">
        <span class="ja-text">åŒ—æµ·é“ãƒ»æ±åŒ—</span>
        <span class="en-text">Hokkaido/Tohoku</span>
      </button>
      <button class="filter-btn" data-region="kanto">
        <span class="ja-text">é–¢æ±</span>
        <span class="en-text">Kanto</span>
      </button>
      <button class="filter-btn" data-region="chubu">
        <span class="ja-text">ä¸­éƒ¨</span>
        <span class="en-text">Chubu</span>
      </button>
      <button class="filter-btn" data-region="kinki">
        <span class="ja-text">è¿‘ç•¿</span>
        <span class="en-text">Kinki</span>
      </button>
      <button class="filter-btn" data-region="chugoku">
        <span class="ja-text">ä¸­å›½</span>
        <span class="en-text">Chugoku</span>
      </button>
      <button class="filter-btn" data-region="shikoku">
        <span class="ja-text">å››å›½</span>
        <span class="en-text">Shikoku</span>
      </button>
      <button class="filter-btn" data-region="kyushu-okinawa">
        <span class="ja-text">ä¹å·ãƒ»æ²–ç¸„</span>
        <span class="en-text">Kyushu/Okinawa</span>
      </button>
    </div>

    <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
    <div class="filter-buttons filter-content" id="statusFilters">
      <button class="filter-btn active" data-status="all">
        <span class="ja-text">ã™ã¹ã¦</span>
        <span class="en-text">All</span>
      </button>
      <button class="filter-btn" data-status="favorite">
        <span class="ja-text">â¤ï¸ ãŠæ°—ã«å…¥ã‚Š</span>
        <span class="en-text">â¤ï¸ Favorites</span>
      </button>
      <button class="filter-btn" data-status="visited">
        <span class="ja-text">âœ“ è¨ªå•æ¸ˆã¿</span>
        <span class="en-text">âœ“ Visited</span>
      </button>
      <button class="filter-btn" data-status="unvisited">
        <span class="ja-text">ğŸ“ æœªè¨ªå•</span>
        <span class="en-text">ğŸ“ Not Visited</span>
      </button>
    </div>
  </section>

  <div id="resultsInfo" class="results-info" style="display:none;">
    <span class="ja-text">æ¤œç´¢çµæœï¼š</span>
    <span class="en-text">Results: </span>
    <span id="resultsCount">0</span>
  </div>

  <main id="mainContent">
    <!-- JavaScriptã§å…¨118ä»¶ã‚’å‹•çš„ç”Ÿæˆ -->
  </main>

  <div id="noResults" class="no-results" style="display:none;">
    <span class="ja-text">è©²å½“ã™ã‚‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</span>
    <span class="en-text">No matching stories found.</span>
  </div>

  <button id="backToTop" class="back-to-top">â†‘</button>

  <footer>
    <p>
      <span class="ja-text">ğŸ“š å…¨118ã‚¹ãƒˆãƒ¼ãƒªãƒ¼è©³ç´°èª¬æ˜ãƒ»è‹±è¨³ä»˜ã | ãƒ‡ãƒ¼ã‚¿ã¯ç«¯æœ«ã«ä¿å­˜ã•ã‚Œã¾ã™</span>
      <span class="en-text">ğŸ“š All 118 Stories with Detailed Bilingual Descriptions | Data saved locally</span>
    </p>
  </footer>
</div>

<!-- è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div class="modal-overlay" id="storyModal">
  <div class="modal-content">
    <div class="modal-header">
      <button class="modal-close" id="modalClose">Ã—</button>
      <h2 class="modal-title" id="modalTitle"></h2>
      <p class="modal-location" id="modalLocation"></p>
    </div>
    <div class="modal-body">
      <div class="modal-section">
        <h3 class="modal-section-title">
          <span class="ja-text">ğŸ“– ã‚¹ãƒˆãƒ¼ãƒªãƒ¼æ¦‚è¦</span>
          <span class="en-text">ğŸ“– Story Overview</span>
        </h3>
        <p class="modal-description" id="modalDescription"></p>
      </div>
      
      <div class="modal-section" id="highlightsSection">
        <h3 class="modal-section-title">
          <span class="ja-text">âœ¨ è¦‹ã©ã“ã‚ãƒã‚¤ãƒ©ã‚¤ãƒˆ</span>
          <span class="en-text">âœ¨ Highlights</span>
        </h3>
        <div class="modal-highlights">
          <ul id="modalHighlights"></ul>
        </div>
      </div>

      <div class="modal-section" id="experiencesSection">
        <h3 class="modal-section-title">
          <span class="ja-text">ğŸ¯ ä½“é¨“ã§ãã‚‹ã“ã¨</span>
          <span class="en-text">ğŸ¯ Experiences</span>
        </h3>
        <p class="modal-description" id="modalExperiences"></p>
      </div>
      
      <div class="modal-section">
        <h3 class="modal-section-title">
          <span class="ja-text">ğŸ“ æ‰€åœ¨åœ°</span>
          <span class="en-text">ğŸ“ Location</span>
        </h3>
        <p class="modal-description" id="modalLocationDetail"></p>
      </div>
    </div>
    <div class="modal-actions">
      <button class="modal-action-btn btn-favorite" id="modalFavorite">
        <span>â¤ï¸</span>
        <span class="ja-text">ãŠæ°—ã«å…¥ã‚Š</span>
        <span class="en-text">Favorite</span>
      </button>
      <button class="modal-action-btn btn-visited" id="modalVisited">
        <span>âœ“</span>
        <span class="ja-text">è¨ªå•æ¸ˆã¿</span>
        <span class="en-text">Visited</span>
      </button>
    </div>
  </div>
</div>

<script>
// å…¨118ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆè©³ç´°èª¬æ˜ãƒ»è‹±è¨³ä»˜ãï¼‰
const STORY_DATA = [
  // åŒ—æµ·é“ãƒ»æ±åŒ— (1-9)
  {
    id: 1,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "æœ¬é‚¦å›½ç­–ã‚’åŒ—æµ·é“ã«è¦³ã‚ˆï¼ï½åŒ—ã®ç”£æ¥­é©å‘½ã€Œç‚­é‰„æ¸¯ã€ï½",
    enTitle: "See Japan's National Policy in Hokkaido â€“ Northern Industrial Revolution 'Coal-Steel-Port'",
    jaLocation: "åŒ—æµ·é“ï¼ˆå®¤è˜­å¸‚ã€å¤•å¼µå¸‚ã€å²©è¦‹æ²¢å¸‚ã€ç¾å”„å¸‚ã€èŠ¦åˆ¥å¸‚ã€èµ¤å¹³å¸‚ã€ä¸‰ç¬ å¸‚ã€æ —å±±ç”ºã€æœˆå½¢ç”ºã€æ²¼ç”°ç”ºã€å°æ¨½å¸‚ï¼‰",
    enLocation: "Hokkaido (Muroran, Yubari, Iwamizawa, Bibai, Ashibetsu, Akabira, Mikasa, Kuriyama, Tsukigata, Numata, Otaru)",
    descriptionJa: "æ˜æ²»æœŸã€åŒ—æµ·é“ã®çŸ³ç‚­ãƒ»é‰„é‹¼ãƒ»æ¸¯æ¹¾ãŒæ—¥æœ¬ã®è¿‘ä»£åŒ–ã‚’æ”¯ãˆãŸå£®å¤§ãªç‰©èªã€‚å¤•å¼µã®ç‚­é‰±ã€å®¤è˜­ã®è£½é‰„æ‰€ã€å°æ¨½æ¸¯ãŒã€ŒåŒ—ã®ç”£æ¥­é©å‘½ã€ã‚’ç‰½å¼•ã—ã¾ã—ãŸã€‚ç‚­é‰±ä½å®…ã‚„é‰„é“éºæ§‹ã‚’å·¡ã‚Œã°ã€é–‹æ‹“è€…ãŸã¡ã®æƒ…ç†±ã¨è‹¦åŠ´ãŒè‚Œã§æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚ç”£æ¥­éºç”£ãŒç‚¹åœ¨ã™ã‚‹é¢¨æ™¯ã¯ã€æ—¥æœ¬ã®æ€¥é€Ÿãªè¿‘ä»£åŒ–ã®æ­´å²ã‚’ç‰©èªã£ã¦ã„ã¾ã™ã€‚çŸ³ç‚­ãŒã€Œé»’ã„ãƒ€ã‚¤ãƒ¤ã€ã¨å‘¼ã°ã‚Œã€æ—¥æœ¬ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼æºã¨ã—ã¦å›½ã‚’æ”¯ãˆãŸæ™‚ä»£ã®è¨˜æ†¶ãŒã€ä»Šã‚‚å„åœ°ã«æ®‹ã•ã‚Œã¦ã„ã¾ã™ã€‚",
    descriptionEn: "During the Meiji era, Hokkaido's coal, steel, and port industries supported Japan's modernization in a grand narrative. The Yubari coal mines, Muroran steelworks, and Otaru port drove the 'Northern Industrial Revolution.' Touring miners' housing and railway ruins reveals pioneers' passion and hardships. The landscape dotted with industrial heritage tells Japan's rapid modernization story. Memories of when coal was called 'black diamonds' and powered the nation remain preserved.",
    highlightsJa: ["å¤•å¼µçŸ³ç‚­åšç‰©é¤¨ï¼šç‚­é‰±ã®æ­´å²ã¨æŠ€è¡“ã‚’å­¦ã¶", "æ—§å®¤è˜­é§…èˆï¼šãƒ¬ãƒ³ã‚¬é€ ã‚Šã®ç¾ã—ã„è¿‘ä»£å»ºç¯‰", "å°æ¨½é‹æ²³ï¼šåŒ—æµ·é“é–‹æ‹“ã®ç„é–¢å£", "ä¸‰ç¬ é‰„é“æ‘ï¼šè’¸æ°—æ©Ÿé–¢è»Šã®å±•ç¤º"],
    highlightsEn: ["Yubari Coal Museum: Learn mining history", "Old Muroran Station: Beautiful brick architecture", "Otaru Canal: Gateway to Hokkaido development", "Mikasa Railway Village: Steam locomotive exhibits"],
    experiencesJa: "ç‚­é‰±ãƒ„ã‚¢ãƒ¼ã€ç”£æ¥­éºç”£å·¡ã‚Šã€å°æ¨½é‹æ²³ã‚¯ãƒ«ãƒ¼ã‚ºã€æµ·é®®ã‚°ãƒ«ãƒ¡ã€ã‚¬ãƒ©ã‚¹å·¥èŠ¸ä½“é¨“ã€èµ¤ãƒ¬ãƒ³ã‚¬å€‰åº«ç¾¤æ•£ç­–",
    experiencesEn: "Coal mine tours, industrial heritage visits, Otaru Canal cruises, seafood cuisine, glass craft experiences, red brick warehouse district walks"
  },

  {
    id: 2,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "ã€Œé®­ã®è–åœ°ã€ã®ç‰©èªï½çŸ¥åºŠã®é®­æ¼ã®ä¼çµ±ã¨å…‰ã‚Šè¼ãã‚¤ã‚¯ãƒ©ï½",
    enTitle: "Story of the Sacred Land of Salmon â€“ Shiretoko's Salmon Fishing Traditions and Sparkling Ikura",
    jaLocation: "åŒ—æµ·é“ï¼ˆæ¨™æ´¥ç”ºã€ç¾…è‡¼ç”ºï¼‰",
    enLocation: "Hokkaido (Shibetsu, Rausu)",
    descriptionJa: "ä¸–ç•Œè‡ªç„¶éºç”£ãƒ»çŸ¥åºŠã§æ•°åƒå¹´ç¶šãé®­æ¼æ–‡åŒ–ã€‚ç§‹ã«ãªã‚‹ã¨å·ã‚’é¡ä¸Šã™ã‚‹é®­ã®ç¾¤ã‚Œã¯åœ§å·»ã§ã€ã‚¢ã‚¤ãƒŒæ°‘æ—ãŒã€Œç¥ã®é­šï¼ˆã‚«ãƒ ã‚¤ãƒã‚§ãƒ—ï¼‰ã€ã¨å‘¼ã‚“ã ç†ç”±ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚æ–°é®®ãªã‚¤ã‚¯ãƒ©ã¨é®­æ–™ç†ã¯çµ¶å“ã€‚æ¨™æ´¥ã‚µãƒ¼ãƒ¢ãƒ³ç§‘å­¦é¤¨ã§ã¯é®­ã®ç”Ÿæ…‹ã‚’å­¦ã¹ã€æ¼ã®è¦‹å­¦ã‚‚ã§ãã¾ã™ã€‚çŸ¥åºŠã®å¤§è‡ªç„¶ã¨å…±ç”Ÿã™ã‚‹äººã€…ã®çŸ¥æµã«è§¦ã‚Œã‚‰ã‚Œã¾ã™ã€‚é®­ã¯åœ°åŸŸã®äººã€…ã®ç”Ÿæ´»ã‚’æ”¯ãˆã€æ–‡åŒ–ã‚’è‚²ã‚“ã§ããŸç¥è–ãªå­˜åœ¨ã§ã™ã€‚",
    descriptionEn: "Salmon fishing culture continuing for thousands of years in Shiretoko World Natural Heritage Site. Autumn salmon runs up rivers are spectacular, showing why Ainu people called them 'divine fish (Kamuy chep).' Fresh ikura and salmon dishes are exquisite. At Shibetsu Salmon Science Museum, learn about salmon ecology and observe fishing. Experience the wisdom of people living in harmony with Shiretoko's great nature. Salmon are sacred beings that have supported local livelihoods and nurtured regional culture.",
    highlightsJa: ["æ¨™æ´¥ã‚µãƒ¼ãƒ¢ãƒ³ãƒ‘ãƒ¼ã‚¯ï¼šé®­ã®ç”Ÿæ…‹å±•ç¤ºã¨è¦³å¯Ÿ", "ç¾…è‡¼ã®é®­æ¼è¦‹å­¦ï¼šä¼çµ±æ¼æ³•ã®ç¶™æ‰¿", "çŸ¥åºŠäº”æ¹–ï¼šåŸç”Ÿæ—ã¨æ¹–ã®çµ¶æ™¯", "æ–°é®®ãªã‚¤ã‚¯ãƒ©ä¸¼ï¼šè¼ãå®çŸ³ã®ã‚ˆã†ãªç¾å‘³ã—ã•"],
    highlightsEn: ["Shibetsu Salmon Park: Salmon ecology exhibits", "Rausu salmon fishing: Traditional fishing methods", "Shiretoko Five Lakes: Pristine forest and lake views", "Fresh ikura rice bowl: Jewel-like delicacy"],
    experiencesJa: "é®­æ¼è¦‹å­¦ã€ã‚¤ã‚¯ãƒ©ä¸¼ã€çŸ¥åºŠäº”æ¹–æ•£ç­–ã€ãƒ›ã‚¨ãƒ¼ãƒ«ã‚¦ã‚©ãƒƒãƒãƒ³ã‚°ã€æµæ°·ã‚¯ãƒ«ãƒ¼ã‚ºï¼ˆå†¬å­£ï¼‰ã€é‡ç”Ÿå‹•ç‰©è¦³å¯Ÿ",
    experiencesEn: "Salmon fishing observation, ikura bowls, Shiretoko Five Lakes walks, whale watching, drift ice cruises (winter), wildlife observation"
  },

  {
    id: 3,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "ã‚«ãƒ ã‚¤ã¨å…±ã«ç”Ÿãã‚‹ä¸Šå·ã‚¢ã‚¤ãƒŒï½å¤§é›ªå±±ã®ãµã¨ã“ã‚ã«ä¼æ‰¿ã•ã‚Œã‚‹ç¥ã€…ã®ä¸–ç•Œï½",
    enTitle: "Kamikawa Ainu Living with the Kamuy â€“ World of Gods Handed Down in Embrace of Mt. Daisetsu",
    jaLocation: "åŒ—æµ·é“ï¼ˆæ—­å·å¸‚ã€ä¸Šå·ç”ºï¼‰",
    enLocation: "Hokkaido (Asahikawa, Kamikawa)",
    descriptionJa: "å¤§é›ªå±±ã‚’ã€Œã‚«ãƒ ã‚¤ãƒŸãƒ³ã‚¿ãƒ©ï¼ˆç¥ã€…ã®éŠã¶åº­ï¼‰ã€ã¨å‘¼ã‚“ã ä¸Šå·ã‚¢ã‚¤ãƒŒã®ç²¾ç¥æ–‡åŒ–ã€‚ã‚¢ã‚¤ãƒŒæ–‡åŒ–ã®ä¼çµ±å„€å¼ã€æœ¨å½«ã‚Šã€åˆºç¹ãªã©ãŒä»Šã‚‚å—ã‘ç¶™ãŒã‚Œã¦ã„ã¾ã™ã€‚æ—­å·ã®ã‚¢ã‚¤ãƒŒæ–‡åŒ–äº¤æµã‚»ãƒ³ã‚¿ãƒ¼ã§ã¯ã€ç¥ã€…ã¨å…±ç”Ÿã™ã‚‹ä¸–ç•Œè¦³ã«è§¦ã‚Œã‚‰ã‚Œã¾ã™ã€‚å±¤é›²å³¡ã®å¤§è‡ªç„¶ã®ä¸­ã§ã€ã‚«ãƒ ã‚¤ï¼ˆç¥ï¼‰ã¸ã®ç¥ˆã‚Šã¨æ„Ÿè¬ã®å¿ƒã‚’ä½“æ„Ÿã§ãã¾ã™ã€‚ã‚¢ã‚¤ãƒŒã®äººã€…ã¯è‡ªç„¶ã®ã™ã¹ã¦ã«ç¥ãŒå®¿ã‚‹ã¨è€ƒãˆã€å…±ç”Ÿã®çŸ¥æµã‚’è‚²ã‚“ã§ãã¾ã—ãŸã€‚",
    descriptionEn: "Spiritual culture of Kamikawa Ainu who called Mt. Daisetsu 'Kamuy Mintara (playground of the gods).' Traditional Ainu rituals, wood carving, and embroidery are still passed down today. At Asahikawa's Ainu Cultural Exchange Center, experience the worldview of coexisting with gods. In Sounkyo's great nature, feel prayers and gratitude toward Kamuy (gods). Ainu people believe gods dwell in all nature and have cultivated wisdom of coexistence.",
    highlightsJa: ["å·æ‘ã‚«å­ãƒˆã‚¢ã‚¤ãƒŒè¨˜å¿µé¤¨ï¼šã‚¢ã‚¤ãƒŒæ–‡åŒ–ã®ç·åˆå±•ç¤º", "å±¤é›²å³¡ï¼šç¥ã€…ã®åº­ã¨å‘¼ã°ã‚Œã‚‹çµ¶æ™¯ã®æ¸“è°·", "å¤§é›ªå±±å›½ç«‹å…¬åœ’ï¼šåŒ—æµ·é“æœ€é«˜å³°ã®éœŠå±±", "ã‚¢ã‚¤ãƒŒä¼çµ±å·¥èŠ¸ä½“é¨“ï¼šæœ¨å½«ã‚Šã‚„åˆºç¹"],
    highlightsEn: ["Kawamura Kaneto Ainu Memorial Hall: Comprehensive Ainu culture exhibits", "Sounkyo Gorge: Spectacular valley called playground of gods", "Daisetsuzan National Park: Hokkaido's highest sacred mountain", "Ainu traditional craft experiences: Wood carving and embroidery"],
    experiencesJa: "ã‚¢ã‚¤ãƒŒæ–‡åŒ–ä½“é¨“ã€ä¼çµ±å·¥èŠ¸ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã€å±¤é›²å³¡æ•£ç­–ã€æ¸©æ³‰ã€ãƒ ãƒƒã‚¯ãƒªï¼ˆå£ç´ï¼‰æ¼”å¥ä½“é¨“ã€ã‚¢ã‚¤ãƒŒæ–™ç†",
    experiencesEn: "Ainu cultural experiences, traditional craft workshops, Sounkyo walks, hot springs, mukkuri (jaw harp) performances, Ainu cuisine"
  },

  {
    id: 4,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "æ”¿å®—ãŒè‚²ã‚“ã \"ä¼Šé”\"ãªæ–‡åŒ–",
    enTitle: "The Stylish 'Date' Culture Fostered by Masamune",
    jaLocation: "å®®åŸçœŒï¼ˆä»™å°å¸‚ã€å¤šè³€åŸå¸‚ã€å¡©ç«ˆå¸‚ã€æ¾å³¶ç”ºï¼‰",
    enLocation: "Miyagi (Sendai, Tagajo, Shiogama, Matsushima)",
    descriptionJa: "ç‹¬çœ¼ç«œãƒ»ä¼Šé”æ”¿å®—ãŒç¯‰ã„ãŸè¯ã‚„ã‹ãªæ–‡åŒ–éºç”£ã€‚ä»™å°åŸè·¡ã€ç‘é³³æ®¿ã®è±ªè¯çµ¢çˆ›ãªè£…é£¾ã€å¡©ç«ˆç¥ç¤¾ã®ä¼çµ±ã€æ—¥æœ¬ä¸‰æ™¯ãƒ»æ¾å³¶ã®ç¾ã—ã•ã€‚ã€Œä¼Šé”ã€ã¨ã„ã†è¨€è‘‰ã®èªæºã¨ãªã£ãŸã€ç²‹ã§ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ãªæ±åŒ—ã®æ–‡åŒ–ã‚’ä½“æ„Ÿã§ãã¾ã™ã€‚æ”¿å®—ã®é€²å–ã®ç²¾ç¥ãŒç”Ÿã‚“ã ã€ä¼çµ±ã¨é©æ–°ãŒèª¿å’Œã™ã‚‹æ–‡åŒ–ãŒä»Šã‚‚æ¯ã¥ã„ã¦ã„ã¾ã™ã€‚èŒ¶é“ã€èƒ½æ¥½ã€æ­¦å®¶æ–‡åŒ–ãŒèåˆã—ãŸç‹¬ç‰¹ã®ç¾æ„è­˜ã¯ã€ç¾ä»£ã®ä»™å°ã®è¡—ã«ã‚‚å—ã‘ç¶™ãŒã‚Œã¦ã„ã¾ã™ã€‚",
    descriptionEn: "Splendid cultural heritage built by the One-Eyed Dragon, Date Masamune. Sendai Castle ruins, gorgeous decorations of Zuihoden mausoleum, Shiogama Shrine traditions, and beauty of Matsushima, one of Japan's three scenic views. Experience the stylish Tohoku culture that gave origin to the word 'Date' (stylish). Culture harmonizing tradition and innovation, born from Masamune's progressive spirit, still thrives today. The unique aesthetic sense fusing tea ceremony, Noh theater, and samurai culture continues in modern Sendai.",
    highlightsJa: ["ä»™å°åŸè·¡ï¼šé’è‘‰åŸã‹ã‚‰æœ›ã‚€å¸‚è¡—åœ°ã®çµ¶æ™¯ã¨æ”¿å®—é¨é¦¬åƒ", "ç‘é³³æ®¿ï¼šè±ªè¯çµ¢çˆ›ãªéœŠå»Ÿå»ºç¯‰ã®å‚‘ä½œ", "æ¾å³¶ï¼šæ—¥æœ¬ä¸‰æ™¯ã®ä¸€ã¤ã€260ä½™ã®å³¶ã€…", "å¡©ç«ˆç¥ç¤¾ï¼šæ±åŒ—ã®ç·é®å®ˆã€æµ·ã®å®ˆã‚Šç¥"],
    highlightsEn: ["Sendai Castle ruins: Panoramic city views and Masamune statue", "Zuihoden mausoleum: Masterpiece of gorgeous mausoleum architecture", "Matsushima Bay: One of Japan's three scenic views with 260+ islands", "Shiogama Shrine: Guardian deity of Tohoku and the sea"],
    experiencesJa: "åŸè·¡æ•£ç­–ã€æ¾å³¶éŠè¦§èˆ¹ã€ç‰›ã‚¿ãƒ³æ–™ç†ã€ç¬¹ã‹ã¾ã¼ã“ã€ãšã‚“ã é¤…ã€ä¼Šé”ã®æ–‡åŒ–ä½“é¨“",
    experiencesEn: "Castle site walks, Matsushima bay cruises, beef tongue cuisine, kamaboko, zunda mochi, Date culture experiences"
  },

  {
    id: 5,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "è‡ªç„¶ã¨ä¿¡ä»°ãŒæ¯ã¥ãã€ç”Ÿã¾ã‚Œã‹ã‚ã‚Šã®æ—…ã€ï½æ¨¹é½¢300å¹´ã‚’è¶…ãˆã‚‹æ‰ä¸¦æœ¨ã«ã¤ã¤ã¾ã‚ŒãŸ2,446æ®µã®çŸ³æ®µã‹ã‚‰å§‹ã¾ã‚‹å‡ºç¾½ä¸‰å±±ï½",
    enTitle: "A Rebirth Pilgrimage Where Nature and Faith Breathe â€“ Dewa Sanzan Beginning with 2,446 Stone Steps",
    jaLocation: "å±±å½¢çœŒï¼ˆé¶´å²¡å¸‚ã€è¥¿å·ç”ºã€åº„å†…ç”ºï¼‰",
    enLocation: "Yamagata (Tsuruoka, Nishikawa, Shonai)",
    descriptionJa: "ç¾½é»’å±±ãƒ»æœˆå±±ãƒ»æ¹¯æ®¿å±±ã‚’å·¡ã‚‹ä¿®é¨“é“ã®è–åœ°ã€‚2,446æ®µã®çŸ³æ®µã‚’ç™»ã‚Šã€æ¨¹é½¢300å¹´è¶…ã®æ‰ä¸¦æœ¨ã«åŒ…ã¾ã‚Œã‚‹å·¡ç¤¼ã¯ã€ã¾ã•ã«ã€Œç”Ÿã¾ã‚Œå¤‰ã‚ã‚Šã€ã®ä½“é¨“ã€‚å±±ä¼æ–‡åŒ–ã€ç²¾é€²æ–™ç†ã€å³èº«ä»ãªã©ã€æ—¥æœ¬ç‹¬ç‰¹ã®å±±å²³ä¿¡ä»°ã®æ·±æ·µã«è§¦ã‚Œã‚‰ã‚Œã¾ã™ã€‚ç¾ä¸–ã€å‰ä¸–ã€æ¥ä¸–ã‚’è±¡å¾´ã™ã‚‹ä¸‰å±±ã‚’å·¡ã‚‹ã“ã¨ã§ã€å¿ƒèº«ã¨ã‚‚ã«æµ„åŒ–ã•ã‚Œã¾ã™ã€‚ç™½è£…æŸã«èº«ã‚’åŒ…ã¿ã€å±±å²³ä¿®è¡Œã®ä¸€ç«¯ã‚’ä½“é¨“ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚",
    descriptionEn: "Sacred sites of mountain asceticism covering Mt. Haguro, Mt. Gassan, and Mt. Yudono. Climbing 2,446 stone steps surrounded by cedar trees over 300 years old is truly a 'rebirth' experience. Encounter the depths of Japan's unique mountain worship through yamabushi culture, vegetarian cuisine, and sokushinbutsu (self-mummified monks). By visiting the three mountains symbolizing present, past, and future life, you are purified in body and mind. You can also experience part of mountain training dressed in white robes.",
    highlightsJa: ["ç¾½é»’å±±äº”é‡å¡”ï¼šå›½å®ã€æ±åŒ—æœ€å¤ã®äº”é‡å¡”", "å‡ºç¾½ä¸‰å±±ç¥ç¤¾ï¼šä¸‰å±±ã®ç·é®å®ˆã€è˜å³ãªç¤¾æ®¿", "å³èº«ä»ï¼šä¿®è¡Œã®æ¥µè‡´ã‚’ç¤ºã™è²´é‡ãªæ–‡åŒ–è²¡", "ç²¾é€²æ–™ç†ï¼šå±±ã®æµã¿ã‚’æ´»ã‹ã—ãŸä¼çµ±ã®å‘³"],
    highlightsEn: ["Hagurosan Five-Story Pagoda: National Treasure, oldest in Tohoku", "Dewa Sanzan Shrine: Grand shrine of three mountains", "Sokushinbutsu: Precious cultural assets showing ultimate asceticism", "Shojin vegetarian cuisine: Traditional flavors using mountain bounty"],
    experiencesJa: "ä¸‰å±±å·¡ç¤¼ã€ç²¾é€²æ–™ç†ã€å±±ä¼ä½“é¨“ã€æ¸©æ³‰ã€å¾¡æœ±å°å·¡ã‚Šã€æ£®æ—ã‚»ãƒ©ãƒ”ãƒ¼ã€è‡ªç„¶è¦³å¯Ÿ",
    experiencesEn: "Three-mountain pilgrimage, vegetarian meals, yamabushi experiences, hot springs, goshuin stamp collecting, forest therapy, nature observation"
  },

  {
    id: 6,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "å±±å¯ºãŒæ”¯ãˆãŸç´…èŠ±æ–‡åŒ–",
    enTitle: "Safflower Culture Supported by Yamadera Temple",
    jaLocation: "å±±å½¢çœŒï¼ˆå±±å½¢å¸‚ã€å¤©ç«¥å¸‚ã€å°¾èŠ±æ²¢å¸‚ã€ä¸­å±±ç”ºã€æ²³åŒ—ç”ºã€ç™½é·¹ç”ºï¼‰",
    enLocation: "Yamagata (Yamagata, Tendo, Obanazawa, Nakayama, Kahoku, Shirataka)",
    descriptionJa: "æ¾å°¾èŠ­è•‰ãŒã€Œé–‘ã•ã‚„å²©ã«ã—ã¿å…¥ã‚‹è‰ã®å£°ã€ã¨è© ã‚“ã å±±å¯ºã¨ã€æœ€ä¸Šç´…èŠ±ã®ç‰©èªã€‚æ±Ÿæˆ¸æ™‚ä»£ã€ç´…èŠ±ã¯é‡‘ã¨åŒã˜ä¾¡å€¤ã‚’æŒã¡ã€äº¬éƒ½ã®æŸ“ç‰©æ–‡åŒ–ã‚’æ”¯ãˆã¾ã—ãŸã€‚ç´…èŠ±ç•‘ãŒä¸€é¢ã«åºƒãŒã‚‹åˆå¤ã®é¢¨æ™¯ã¯æ¯ã‚’å‘‘ã‚€ç¾ã—ã•ã§ã™ã€‚æœ€ä¸Šå·ã®èˆŸé‹ã§äº¬éƒ½ã¸é‹ã°ã‚ŒãŸç´…èŠ±ãŒã€æ—¥æœ¬ã®ç¾æ„è­˜ã‚’å½©ã‚Šã¾ã—ãŸã€‚å±±å¯ºã®é™å¯‚ã¨ç´…èŠ±ã®é®®ã‚„ã‹ã•ãŒç¹”ã‚Šãªã™ã€å±±å½¢ã®æ–‡åŒ–ã®æ·±ã¿ã‚’æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚",
    descriptionEn: "Story of Yamadera Temple, where Matsuo Basho composed his famous haiku about cicadas, and Mogami safflower. In the Edo period, safflowers were valued as highly as gold and supported Kyoto's dyeing culture. Landscape of safflower fields spreading across land in early summer is breathtakingly beautiful. Safflowers transported to Kyoto via Mogami River boats colored Japan's aesthetic sense. Feel the depth of Yamagata culture woven by Yamadera's tranquility and safflower's brilliance.",
    highlightsJa: ["å±±å¯ºï¼ˆç«‹çŸ³å¯ºï¼‰ï¼š1,015æ®µã®çŸ³æ®µã€èŠ­è•‰ã®å¥ç¢‘", "ç´…èŠ±è³‡æ–™é¤¨ï¼šç´…èŠ±æ–‡åŒ–ã®æ­´å²ã¨æŸ“è‰²æŠ€è¡“", "æœ€ä¸Šå·ï¼šæ—¥æœ¬ä¸‰å¤§æ€¥æµã€èˆŸé‹ã®æ­´å²", "ç´…èŠ±ç•‘ï¼šåˆå¤ã®çµ¶æ™¯ã€é»„é‡‘è‰²ã®èŠ±ã€…"],
    highlightsEn: ["Yamadera Temple: 1,015 stone steps, Basho's haiku monument", "Safflower Museum: History and dyeing techniques", "Mogami River: One of Japan's three rapid rivers", "Safflower fields: Early summer spectacle of golden flowers"],
    experiencesJa: "å±±å¯ºç™»å±±ã€ç´…èŠ±æ‘˜ã¿ä½“é¨“ã€æœ€ä¸Šå·èˆŸä¸‹ã‚Šã€ã•ãã‚‰ã‚“ã¼ç‹©ã‚Šã€ç´…èŠ±æŸ“ã‚ä½“é¨“ã€æ¸©æ³‰",
    experiencesEn: "Yamadera climbing, safflower picking, Mogami River boat rides, cherry picking, safflower dyeing experiences, hot springs"
  },

  {
    id: 7,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "æœªæ¥ã‚’æ‹“ã„ãŸã€Œä¸€æœ¬ã®æ°´è·¯ã€ï¼å¤§ä¹…ä¿åˆ©é€š\"æœ€æœŸã®å¤¢\"ã¨é–‹æ‹“è€…ã®è»Œè·¡ éƒ¡å±±ãƒ»çŒªè‹—ä»£ï¼",
    enTitle: "The Single Waterway that Opened the Future â€“ Okubo Toshimichi's Final Dream",
    jaLocation: "ç¦å³¶çœŒï¼ˆéƒ¡å±±å¸‚ã€çŒªè‹—ä»£ç”ºï¼‰",
    enLocation: "Fukushima (Koriyama, Inawashiro)",
    descriptionJa: "æ˜æ²»ã®å…ƒå‹²ãƒ»å¤§ä¹…ä¿åˆ©é€šãŒæœ€å¾Œã«æƒ…ç†±ã‚’æ³¨ã„ã ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€å®‰ç©ç–æ°´ã€‚çŒªè‹—ä»£æ¹–ã‹ã‚‰éƒ¡å±±ã¸ç´„130kmã«ã‚ãŸã£ã¦å¼•ã‹ã‚ŒãŸæ°´è·¯ãŒã€ä¸æ¯›ã®åŸé‡ã‚’æ±åŒ—æœ‰æ•°ã®ç©£ç”°ã«å¤‰ãˆã¾ã—ãŸã€‚å¤§ä¹…ä¿ã®æš—æ®ºå¾Œã‚‚æŠ€å¸«ãŸã¡ã®åŠªåŠ›ã§1882å¹´ã«å®Œæˆã€‚åå…­æ©‹æ°´é–€ãªã©ã®åœŸæœ¨éºç”£ã¯ã€æ˜æ²»ã®åœŸæœ¨æŠ€è¡“ã®ç²‹ã‚’é›†ã‚ãŸå‚‘ä½œã§ã™ã€‚ã“ã®æ°´è·¯ã¯è¾²æ¥­ã ã‘ã§ãªãã€æ°´åŠ›ç™ºé›»ã€å·¥æ¥­ç”¨æ°´ã¨ã—ã¦ã‚‚æ´»ç”¨ã•ã‚Œã€éƒ¡å±±ã‚’ã€Œæ±åŒ—ã®ã‚·ã‚«ã‚´ã€ã¨å‘¼ã°ã‚Œã‚‹å·¥æ¥­éƒ½å¸‚ã¸ã¨ç™ºå±•ã•ã›ã¾ã—ãŸã€‚",
    descriptionEn: "Asaka Canal, the final project that Meiji statesman Okubo Toshimichi devoted his passion to. This approximately 130km waterway from Lake Inawashiro to Koriyama transformed barren wilderness into one of Tohoku's most fertile rice-producing areas. Despite Okubo's assassination, engineers completed it in 1882. Civil engineering heritage like Juroku-bashi Water Gate represents pinnacle of Meiji-era engineering. The canal was used not only for agriculture but also hydroelectric power and industrial water, developing Koriyama into an industrial city called 'Chicago of Tohoku.'",
    highlightsJa: ["å®‰ç©ç–æ°´ï¼šæ—¥æœ¬ä¸‰å¤§ç–æ°´ã®ä¸€ã¤ã€è¿‘ä»£åœŸæœ¨ã®å‚‘ä½œ", "åå…­æ©‹æ°´é–€ï¼šç¾ã—ã„ã‚¢ãƒ¼ãƒæ©‹ãŒé€£ç¶šã™ã‚‹æ™¯è¦³", "çŒªè‹—ä»£æ¹–ï¼šæ—¥æœ¬ç¬¬4ä½ã®åºƒã•ã‚’èª‡ã‚‹æ¹–", "é–‹æˆå±±å…¬åœ’ï¼šæ¡œã®åæ‰€ã€ç–æ°´é–‹å‰Šã®æ­´å²"],
    highlightsEn: ["Asaka Canal: One of Japan's three great canals, masterpiece of modern civil engineering", "Juroku-bashi Water Gate: Landscape of beautiful consecutive arch bridges", "Lake Inawashiro: Japan's fourth-largest lake", "Kaiseizan Park: Cherry blossom spot, canal excavation history"],
    experiencesJa: "ç–æ°´æ²¿ã„ã‚µã‚¤ã‚¯ãƒªãƒ³ã‚°ã€çŒªè‹—ä»£æ¹–éŠè¦§ã€åœŸæœ¨éºç”£è¦‹å­¦ã€éƒ·åœŸæ–™ç†ã€æ¹–æ°´æµ´ï¼ˆå¤å­£ï¼‰ã€ã‚¹ã‚­ãƒ¼ï¼ˆå†¬å­£ï¼‰",
    experiencesEn: "Cycling along canal, lake tours, civil engineering heritage visits, local cuisine, lake swimming (summer), skiing (winter)"
  },

  {
    id: 8,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "ä¼šæ´¥ã®ä¸‰åä¸‰è¦³éŸ³ã‚ãã‚Šï½å·¡ç¤¼ã‚’é€šã—ã¦è¦³ãŸå¾€æ™‚ã®ä¼šæ´¥ã®æ–‡åŒ–ï½",
    enTitle: "The 33 Kannon Pilgrimage of Aizu â€“ Aizu Culture Seen Through Pilgrimage",
    jaLocation: "ç¦å³¶çœŒï¼ˆä¼šæ´¥è‹¥æ¾å¸‚ã»ã‹ï¼‰",
    enLocation: "Fukushima (Aizuwakamatsu, etc.)",
    descriptionJa: "ä¼šæ´¥è—©ä¸»ãŒæ°‘ã®å®‰å¯§ã‚’é¡˜ã£ã¦æ•´å‚™ã—ãŸè¦³éŸ³éœŠå ´å·¡ã‚Šã€‚ä¼šæ´¥åœ°æ–¹ã«ç‚¹åœ¨ã™ã‚‹33ãƒ¶æ‰€ã®è¦³éŸ³å ‚ã‚’å·¡ã‚‹æ—…ã¯ã€ä¼šæ´¥ã®æ­´å²ã€è‡ªç„¶ã€ä¿¡ä»°ã‚’æ·±ãå‘³ã‚ã†æœ€é«˜ã®ãƒ«ãƒ¼ãƒˆã€‚é¶´ãƒ¶åŸã‹ã‚‰ç£æ¢¯å±±éº“ã¾ã§ã€ãã‚Œãã‚Œã«ç‹¬ç‰¹ã®ç”±ç·’ã¨ç¾ã—ã„ä»åƒãŒã‚ã‚Šã¾ã™ã€‚ä¼šæ´¥æ¼†å™¨ã€ä¼šæ´¥æœ¨ç¶¿ã€éƒ·åœŸæ–™ç†ãªã©ã€ä¼çµ±æ–‡åŒ–ã«ã‚‚è§¦ã‚Œã‚‰ã‚Œã¾ã™ã€‚æ˜¥ã®æ¡œã€å¤ã®æ–°ç·‘ã€ç§‹ã®ç´…è‘‰ã€å†¬ã®é›ªæ™¯è‰²ã¨ã€å››å­£æŠ˜ã€…ã®ç¾ã—ã•ã‚‚é­…åŠ›ã§ã™ã€‚",
    descriptionEn: "Kannon pilgrimage route established by Aizu Domain lord wishing for people's peace. Journey visiting 33 Kannon halls scattered across Aizu is the best route to deeply savor Aizu's history, nature, and faith. From Tsuruga Castle to foot of Mt. Bandai, each hall has unique history and beautiful Buddhist statues. Experience traditional culture including Aizu lacquerware, Aizu cotton, and local cuisine. Charm includes seasonal beauty: spring cherry blossoms, summer greenery, autumn foliage, and winter snow scenes.",
    highlightsJa: ["é¶´ãƒ¶åŸï¼šé›£æ”»ä¸è½ã®ååŸã€ä¼šæ´¥æ­¦å£«é“ã®è±¡å¾´", "ä¼šæ´¥è¦³éŸ³ï¼š33ãƒ¶æ‰€ã®è¦³éŸ³éœŠå ´ã€ãã‚Œãã‚Œã«ç‰©èª", "å¤§å†…å®¿ï¼šæ±Ÿæˆ¸æ™‚ä»£ã®å®¿å ´ç”ºã®å§¿ã‚’ãã®ã¾ã¾æ®‹ã™", "ç£æ¢¯å±±ï¼šä¼šæ´¥å¯Œå£«ã¨å‘¼ã°ã‚Œã‚‹éœŠå³°"],
    highlightsEn: ["Tsuruga Castle: Impregnable castle, symbol of Aizu samurai spirit", "33 Aizu Kannon temples: Each with unique story", "Ouchi-juku: Edo-period post town preserved as it was", "Mt. Bandai: Sacred mountain called Aizu Fuji"],
    experiencesJa: "è¦³éŸ³éœŠå ´å·¡ã‚Šã€ä¼šæ´¥æ¼†å™¨åˆ¶ä½œä½“é¨“ã€éƒ·åœŸæ–™ç†ï¼ˆã“ã¥ã‚†ãƒ»é¦¬åˆºã—ï¼‰ã€å¤§å†…å®¿æ•£ç­–ã€æ¸©æ³‰ã‚ãã‚Šã€ä¼šæ´¥æœ¨ç¶¿ä½“é¨“",
    experiencesEn: "Kannon pilgrimage, Aizu lacquerware workshops, local cuisine (kozuyu, horse sashimi), Ouchi-juku walks, hot spring tours, Aizu cotton experiences"
  },

  {
    id: 9,
    region: "hokkaido-tohoku",
    wideArea: false,
    jaTitle: "\"å¥¥å—éƒ¨\"æ¼†ç‰©èªï½å®‰æ¯”å·æµåŸŸã«å—ã‘ç¶™ãŒã‚Œã‚‹ä¼çµ±æŠ€è¡“ï½",
    enTitle: "The Oku-Nambu Lacquer Story â€“ Traditional Techniques Handed Down in Appi River Basin",
    jaLocation: "å²©æ‰‹çœŒï¼ˆå…«å¹¡å¹³å¸‚ã€äºŒæˆ¸å¸‚ã€ä¸€æˆ¸ç”ºï¼‰",
    enLocation: "Iwate (Hachimantai, Ninohe, Ichinohe)",
    descriptionJa: "æµ„æ³•å¯ºå¡—ã§çŸ¥ã‚‰ã‚Œã‚‹æ—¥æœ¬å±ˆæŒ‡ã®æ¼†ã®ç”£åœ°ã€‚å®‰æ¯”å·æµåŸŸã§ã¯åƒå¹´ä»¥ä¸Šã«ã‚ãŸã‚Šæ¼†æ»ãï¼ˆæ¼†ã®æ¨¹æ¶²æ¡å–ï¼‰ãŒè¡Œã‚ã‚Œã€ç¾åœ¨ã§ã¯å›½ç”£æ¼†ã®ç´„70%ã‚’ç”Ÿç”£ã—ã¦ã„ã¾ã™ã€‚ä¸€æœ¬ã®æ¼†ã®æœ¨ã‹ã‚‰æ¡ã‚Œã‚‹æ¨¹æ¶²ã¯ã‚ãšã‹200mlã»ã©ã§ã€è·äººã¯æœ¨ã‚’å‚·ã¤ã‘ãªã„ã‚ˆã†ç´°å¿ƒã®æ³¨æ„ã‚’æ‰•ã„ã¾ã™ã€‚ã“ã®è²´é‡ãªæ¼†ã‚’ä½¿ã£ãŸæµ„æ³•å¯ºæ¤€ã¯ã€ã‚·ãƒ³ãƒ—ãƒ«ã§åŠ›å¼·ã„ç¾ã—ã•ã‚’æŒã¡ã€ä½¿ã†ã»ã©ã«è‰¶ãŒå¢—ã—ã¾ã™ã€‚æ—¥å…‰æ±ç…§å®®ãªã©ã®æ–‡åŒ–è²¡ä¿®å¾©ã«ã‚‚ä½¿ã‚ã‚Œã‚‹ã€æ—¥æœ¬ã®å®ã§ã™ã€‚",
    descriptionEn: "One of Japan's premier lacquer-producing regions known for Joboji-nuri. Lacquer tapping has been practiced in Appi River basin for over a thousand years, now producing about 70% of Japan's domestic lacquer. Only about 200ml of sap can be harvested from one tree, with craftsmen exercising utmost care not to damage trees. Joboji bowls made from this precious lacquer have simple yet powerful beauty and gain luster with use. Used for cultural asset restoration like Nikko Toshogu, it's a Japanese treasure.",
    highlightsJa: ["æµ„æ³•å¯ºæ¼†èŠ¸é¤¨ï¼šæ¼†å™¨ã®å±•ç¤ºè²©å£²ã¨åˆ¶ä½œå·¥ç¨‹è¦‹å­¦", "æ¼†æ»ãä½“é¨“ï¼šä¼çµ±æŠ€è¡“ã‚’é–“è¿‘ã§å­¦ã¶", "å¤©å°å¯ºï¼šæ­´å²ã‚ã‚‹å¤åˆ¹ã€æ¡‚æ¸…æ°´", "æ¼†å™¨å·¥æˆ¿ï¼šè·äººã®æŠ€ã‚’è¦‹å­¦"],
    highlightsEn: ["Joboji Lacquerware Museum: Exhibits and production process tours", "Lacquer tapping experience: Learn traditional techniques up close", "Tendaiji Temple: Historic temple, Katsura spring water", "Lacquerware workshops: Observe craftsmen's skills"],
    experiencesJa: "æ¼†æ»ãè¦‹å­¦ã€æ¼†å™¨åˆ¶ä½œä½“é¨“ã€å¤©å°å¯ºå‚æ‹ã€åœ°å…ƒã‚°ãƒ«ãƒ¡ã€æ¸©æ³‰ã€è‡ªç„¶æ•£ç­–",
    experiencesEn: "Lacquer tapping observation, lacquerware workshops, Tendaiji visits, local food, hot springs, nature walks"
  },

  // 10-20: é–¢æ±ãƒ–ãƒ­ãƒƒã‚¯
  {
    id: 10,
    region: "kanto",
    wideArea: false,
    jaTitle: "ã‹ã‹ã‚å¤©ä¸‹ï¼ãã‚“ã¾ã®çµ¹ç‰©èªï¼",
    enTitle: "Kakaa-Tenka â€“ Gunma's Silk Story",
    jaLocation: "ç¾¤é¦¬çœŒï¼ˆæ¡ç”Ÿå¸‚ã€ç”˜æ¥½ç”ºã€ä¸­ä¹‹æ¡ç”ºã€ç‰‡å“æ‘ï¼‰",
    enLocation: "Gunma (Kiryu, Kanra, Nakanojo, Katashina)",
    descriptionJa: "ã€Œã‹ã‹ã‚å¤©ä¸‹ã¨ã‹ã‚‰ã£é¢¨ã€ã§çŸ¥ã‚‰ã‚Œã‚‹ç¾¤é¦¬çœŒã®é¤Šèš•æ–‡åŒ–ã€‚å¥³æ€§ãŸã¡ãŒé¤Šèš•ã§å®¶è¨ˆã‚’æ”¯ãˆã€ç™ºè¨€åŠ›ã‚’æŒã£ãŸæ­´å²ãŒã‚ã‚Šã¾ã™ã€‚ä¸–ç•Œéºç”£ã€Œå¯Œå²¡è£½ç³¸å ´ã¨çµ¹ç”£æ¥­éºç”£ç¾¤ã€ã‚’ã¯ã˜ã‚ã€æ¡ç”Ÿã®ç¹”ç‰©ç”£æ¥­ã€é¤Šèš•è¾²å®¶ã®ç‹¬ç‰¹ãªå»ºç¯‰æ§˜å¼ãªã©ã€ç¾¤é¦¬ã®çµ¹æ–‡åŒ–ã¯ä»Šã‚‚æ¯ã¥ã„ã¦ã„ã¾ã™ã€‚æ˜¥ã‹ã‚‰å¤ã«ã‹ã‘ã¦ä¸€é¢ã«åºƒãŒã‚‹æ¡‘ç•‘ã®é¢¨æ™¯ã¯åœ§å·»ã§ã™ã€‚æ—¥æœ¬ã®è¿‘ä»£åŒ–ã‚’ç‰½å¼•ã—ãŸå¥³æ€§ãŸã¡ã®ç‰©èªã‚’ã€çµ¹ã®ç”£åœ°ã§ä½“æ„Ÿã§ãã¾ã™ã€‚",
    descriptionEn: "Gunma's sericulture culture known for 'strong wives and strong winds (kakaa-tenka to karakkaze).' Women supported households through sericulture and gained strong voices in decisions. World Heritage Site Tomioka Silk Mill and Related Sites, along with Kiryu's textile industry and unique sericulture farmhouse architecture, showcase Gunma's living silk culture. Landscape of mulberry fields spreading across region from spring to summer is magnificent. Experience the story of women who drove Japan's modernization in the silk-producing region.",
    highlightsJa: ["å¯Œå²¡è£½ç³¸å ´ï¼šä¸–ç•Œéºç”£ã€æ—¥æœ¬ã®è¿‘ä»£åŒ–ã‚’è±¡å¾´ã™ã‚‹å®˜å–¶æ¨¡ç¯„å·¥å ´", "æ¡ç”Ÿç¹”ç‰©ï¼š1300å¹´ã®æ­´å²ã‚’æŒã¤é«˜ç´šç¹”ç‰©ã®ç”£åœ°", "é¤Šèš•è¾²å®¶ç¾¤ï¼šç‹¬ç‰¹ãªå»ºç¯‰æ§˜å¼ã€Œç·äºŒéšé€ ã‚Šã€ã€Œä¸‰éšå»ºã¦ã€", "çµ¹è£½å“ï¼šä¼çµ±æŠ€è¡“ãŒç”Ÿã¿å‡ºã™ç¾ã—ã„çµ¹ç¹”ç‰©ã‚„å’Œè£…å°ç‰©"],
    highlightsEn: ["Tomioka Silk Mill: UNESCO World Heritage, symbol of Japan's modernization", "Kiryu Textiles: Premium textile production area with 1,300 years of history", "Sericulture Farmhouses: Unique multi-story architectural styles", "Silk Products: Beautiful silk textiles and kimono accessories from traditional techniques"],
    experiencesJa: "å¯Œå²¡è£½ç³¸å ´è¦‹å­¦ã€æ¡ç”Ÿç¹”ç‰©ä½“é¨“ã€é¤Šèš•è¾²å®¶è¦‹å­¦ã€çµ¹è£½å“ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã€ã“ã‚“ã«ã‚ƒããƒ‘ãƒ¼ã‚¯ã€æ¸©æ³‰",
    experiencesEn: "Tomioka Silk Mill tours, Kiryu textile workshops, sericulture farmhouse visits, silk shopping, konjac park, hot springs"
  },

  {
    id: 11,
    region: "kanto",
    wideArea: false,
    jaTitle: "å’Œè£…æ–‡åŒ–ã®è¶³å…ƒã‚’æ”¯ãˆç¶šã‘ã‚‹è¶³è¢‹è”µã®ã¾ã¡è¡Œç”°",
    enTitle: "Gyoda, the Town of Tabi Storehouses Supporting the Foundation of Kimono Culture",
    jaLocation: "åŸ¼ç‰çœŒï¼ˆè¡Œç”°å¸‚ï¼‰",
    enLocation: "Saitama (Gyoda)",
    descriptionJa: "æœ€ç››æœŸã«ã¯æ—¥æœ¬ã®è¶³è¢‹ç”Ÿç”£ã®8å‰²ã‚’å ã‚ãŸè¡Œç”°ã€‚ãƒ¬ãƒ³ã‚¬é€ ã‚Šã®è¶³è¢‹è”µãŒç«‹ã¡ä¸¦ã¶è¡—ä¸¦ã¿ã¯ã€å¤§æ­£ãƒ­ãƒãƒ³ã‚ãµã‚Œã‚‹ç‹¬ç‰¹ã®æ™¯è¦³ã‚’ä½œã‚Šå‡ºã—ã¦ã„ã¾ã™ã€‚è¶³è¢‹è·äººã®æŠ€è¡“ã¯ç¾ä»£ã®ã‚¹ãƒãƒ¼ãƒ„ã‚·ãƒ¥ãƒ¼ã‚ºã«ã‚‚å¿œç”¨ã•ã‚Œã€ä¼çµ±ã¨é©æ–°ãŒèåˆã—ã¦ã„ã¾ã™ã€‚ã€Œé™¸ç‹ã€ã®èˆå°ã¨ã—ã¦ã‚‚çŸ¥ã‚‰ã‚Œã€ã‚‚ã®ã¥ãã‚Šã®ç²¾ç¥ãŒæ¯ã¥ãç”ºã§ã™ã€‚å¤ä»£è“®ã®é‡Œã‚„å¿åŸãªã©ã€ä»–ã®è¦‹ã©ã“ã‚ã‚‚è±Šå¯Œã§ã™ã€‚",
    descriptionEn: "At its peak, Gyoda produced 80% of Japan's tabi (split-toe socks). Streets lined with brick tabi storehouses create unique landscape overflowing with Taisho-era romance. Tabi craftsmen's techniques are applied to modern sports shoes, fusing tradition and innovation. Known as setting of novel 'Rikuoh,' it's a town where manufacturing spirit thrives. Other attractions include Ancient Lotus Village and Oshi Castle.",
    highlightsJa: ["è¶³è¢‹è”µã¾ã¡ãªã‹ï¼šãƒ¬ãƒ³ã‚¬é€ ã‚Šã®è”µãŒä¸¦ã¶æ­´å²çš„æ™¯è¦³", "å¿åŸï¼šæ˜ ç”»ã€Œã®ã¼ã†ã®åŸã€ã®èˆå°ã€æ°´æ”»ã‚ã«è€ãˆãŸæµ®ãåŸ", "å¤ä»£è“®ã®é‡Œï¼š2000å¹´å‰ã®è“®ãŒé–‹èŠ±ã™ã‚‹å…¬åœ’", "è¶³è¢‹å·¥æˆ¿è¦‹å­¦ï¼šè·äººã®æŠ€ã‚’é–“è¿‘ã§è¦‹ã‚‹"],
    highlightsEn: ["Tabi storehouse district: Historic landscape of brick storehouses", "Oshi Castle: Setting of film 'Nobou's Castle,' floating castle that withstood water siege", "Ancient Lotus Village: Park where 2,000-year-old lotus blooms", "Tabi workshop tours: Watch craftsmen's skills up close"],
    experiencesJa: "è¶³è¢‹è”µè¦‹å­¦ã€è¶³è¢‹ä½œã‚Šä½“é¨“ã€å¿åŸæ•£ç­–ã€å¤ä»£è“®é‘‘è³ã€Bç´šã‚°ãƒ«ãƒ¡ï¼ˆã‚¼ãƒªãƒ¼ãƒ•ãƒ©ã‚¤ï¼‰ã€ç”°ã‚“ã¼ã‚¢ãƒ¼ãƒˆ",
    experiencesEn: "Tabi storehouse tours, tabi-making experiences, Oshi Castle walks, ancient lotus viewing, B-grade gourmet (zeri-fry), rice paddy art"
  },

  {
    id: 12,
    region: "kanto",
    wideArea: false,
    jaTitle: "ã€ŒåŒ—ç·å››éƒ½å¸‚æ±Ÿæˆ¸ç´€è¡Œãƒ»æ±Ÿæˆ¸ã‚’æ„Ÿã˜ã‚‹åŒ—ç·ã®ç”ºä¸¦ã¿ã€ï¼ä½å€‰ãƒ»æˆç”°ãƒ»ä½åŸãƒ»éŠšå­ï¼",
    enTitle: "Edo Journeys in Four Cities of Northern Chiba â€“ Sakura, Narita, Sawara, Choshi",
    jaLocation: "åƒè‘‰çœŒï¼ˆä½å€‰å¸‚ã€æˆç”°å¸‚ã€é¦™å–å¸‚ã€éŠšå­å¸‚ï¼‰",
    enLocation: "Chiba (Sakura, Narita, Katori, Choshi)",
    descriptionJa: "æ±Ÿæˆ¸ã®é¢å½±ã‚’è‰²æ¿ƒãæ®‹ã™4ã¤ã®åŸä¸‹ç”ºãƒ»é–€å‰ç”ºã€‚ä½å€‰ã®æ­¦å®¶å±‹æ•·ã€æˆç”°å±±æ–°å‹å¯ºã®å‚é“ã€ä½åŸã®æ°´éƒ·ã®ç”ºä¸¦ã¿ã€éŠšå­ã®é†¤æ²¹é†¸é€ ã€‚ãã‚Œãã‚ŒãŒç•°ãªã‚‹é­…åŠ›ã‚’æŒã¡ã€æ±Ÿæˆ¸æ™‚ä»£ã«ã‚¿ã‚¤ãƒ ã‚¹ãƒªãƒƒãƒ—ã—ãŸã‚ˆã†ãªä½“é¨“ãŒã§ãã¾ã™ã€‚åˆ©æ ¹å·æ°´é‹ã§æ „ãˆãŸå•†éƒ½ã®ç¹æ „ã€æˆç”°è©£ã§ã®è³‘ã‚ã„ã€æ­¦å®¶æ–‡åŒ–ã®ç²‹ãŒã€ä»Šã‚‚æ¯ã¥ã„ã¦ã„ã¾ã™ã€‚",
    descriptionEn: "Four castle and temple towns strongly retaining Edo atmosphere. Sakura's samurai residences, Naritasan Shinshoji Temple approach, Sawara's waterside townscape, Choshi's soy sauce brewing. Each has different charms, offering time-slip experiences to Edo period. Prosperity of commercial cities that flourished through Tone River water transport, bustle of Narita pilgrimage, and essence of samurai culture still thrive today.",
    highlightsJa: ["ä½å€‰æ­¦å®¶å±‹æ•·ï¼šæ±Ÿæˆ¸æ™‚ä»£ã®æ­¦å£«ã®æš®ã‚‰ã—ã‚’ä½“æ„Ÿ", "æˆç”°å±±æ–°å‹å¯ºï¼šé–¢æ±ä¸‰å¤§ä¸å‹•ã®ä¸€ã¤ã€å‚é“ã®è³‘ã‚ã„", "ä½åŸã®ç”ºä¸¦ã¿ï¼šé‡è¦ä¼çµ±çš„å»ºé€ ç‰©ç¾¤ä¿å­˜åœ°åŒºã€å°æ±Ÿæˆ¸ã®é¢¨æƒ…", "éŠšå­é›»é‰„ï¼šãƒ¬ãƒˆãƒ­ãªé‰„é“ã¨é†¤æ²¹å·¥å ´"],
    highlightsEn: ["Sakura Samurai Residences: Experience Edo-period samurai life", "Naritasan Shinshoji Temple: One of Kanto's three great Fudo, lively approach", "Sawara Townscape: Important Preservation District, Little Edo atmosphere", "Choshi Electric Railway: Retro railway and soy sauce factories"],
    experiencesJa: "æ­¦å®¶å±‹æ•·è¦‹å­¦ã€æˆç”°å±±å‚æ‹ã€ä½åŸã®èˆŸå·¡ã‚Šã€éŠšå­é›»é‰„ã€æµ·é®®æ–™ç†ã€ã†ãªãæ–™ç†ã€é†¤æ²¹ã‚½ãƒ•ãƒˆã‚¯ãƒªãƒ¼ãƒ ",
    experiencesEn: "Samurai residence tours, Naritasan pilgrimage, Sawara boat rides, Choshi Railway, seafood cuisine, eel dishes, soy sauce soft cream"
  },

  {
    id: 13,
    region: "kanto",
    wideArea: false,
    jaTitle: "æ±Ÿæˆ¸åº¶æ°‘ã®ä¿¡ä»°ã¨è¡Œæ¥½ã®åœ°ï½å·¨å¤§ãªæœ¨å¤ªåˆ€ã‚’æ‹…ã„ã§ã€Œå¤§å±±è©£ã‚Šã€ï½",
    enTitle: "Edo Commoners' Faith and Pleasure Trips â€“ The Great Oyama Pilgrimage with Giant Wooden Swords",
    jaLocation: "ç¥å¥ˆå·çœŒï¼ˆä¼Šå‹¢åŸå¸‚ï¼‰",
    enLocation: "Kanagawa (Isehara)",
    descriptionJa: "æ±Ÿæˆ¸æ™‚ä»£ã€å¹´é–“20ä¸‡äººãŒè¨ªã‚ŒãŸå¤§å±±é˜¿å¤«åˆ©ç¥ç¤¾ã¸ã®å‚è©£ã€‚å·¨å¤§ãªæœ¨å¤ªåˆ€ã‚’æ‹…ã„ã§ç™»ã‚‹ä¼çµ±ã¯ä»Šã‚‚ç¶šãã¾ã™ã€‚å‚é“ã®èŒ¶å±‹ã€è±†è…æ–™ç†ã€ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼ã‹ã‚‰ã®çœºæœ›ã€‚ä¿¡ä»°ã¨è¦³å…‰ãŒèåˆã—ãŸæ—¥æœ¬ç‹¬ç‰¹ã®æ–‡åŒ–ã‚’ä½“é¨“ã§ãã¾ã™ã€‚è½èªã«ã‚‚ç™»å ´ã™ã‚‹å¤§å±±è©£ã‚Šã¯ã€æ±Ÿæˆ¸åº¶æ°‘ã®æ¥½ã—ã¿ã§ã—ãŸã€‚å±±é ‚ã‹ã‚‰ã¯ç›¸æ¨¡æ¹¾ã‚’ä¸€æœ›ã§ãã€å¤©æ°—ãŒè‰¯ã‘ã‚Œã°å¯Œå£«å±±ã‚‚è¦‹ãˆã¾ã™ã€‚",
    descriptionEn: "In Edo period, 200,000 people annually visited Oyama Afuri Shrine. Tradition of climbing carrying giant wooden swords continues today. Tea houses along approach, tofu dishes, cable car views. Experience unique Japanese culture fusing faith and tourism. Oyama pilgrimage, appearing even in rakugo storytelling, was Edo commoners' pleasure. From summit, panoramic view of Sagami Bay, and Mt. Fuji visible on clear days.",
    highlightsJa: ["å¤§å±±é˜¿å¤«åˆ©ç¥ç¤¾ï¼šç›¸æ¨¡å›½ã®å®ˆè­·ç¥ã€å±±é ‚ã‹ã‚‰ã®çµ¶æ™¯", "å¤§å±±ã‚±ãƒ¼ãƒ–ãƒ«ï¼šãƒ¬ãƒˆãƒ­ãªã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼ã®æ—…", "å¤§å±±è±†è…ï¼šåæ°´ã§ä½œã‚‹ä¼çµ±ã®å‘³", "æ±Ÿã®å³¶ï¼šã‚»ãƒƒãƒˆã§å·¡ã‚‹å¤ãã‹ã‚‰ã®è¦³å…‰åœ°"],
    highlightsEn: ["Oyama Afuri Shrine: Guardian deity of Sagami Province, spectacular summit views", "Oyama Cable Car: Retro cable car journey", "Oyama Tofu: Traditional flavor made with famous spring water", "Enoshima: Historic tourist spot to visit together"],
    experiencesJa: "å¤§å±±ç™»å±±ã€ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼ã€å¤§å±±è±†è…æ–™ç†ã€æœ¨å¤ªåˆ€è³¼å…¥ã€æ±Ÿã®å³¶è¦³å…‰ã€ç›¸æ¨¡æ¹¾ã®æµ·é®®",
    experiencesEn: "Oyama mountain climbing, cable car rides, Oyama tofu cuisine, wooden sword purchases, Enoshima tourism, Sagami Bay seafood"
  },

  {
    id: 14,
    region: "kanto",
    wideArea: true,
    jaTitle: "é®å®ˆåºœ æ¨ªé ˆè³€ãƒ»å‘‰ãƒ»ä½ä¸–ä¿ãƒ»èˆé¶´ï½æ—¥æœ¬è¿‘ä»£åŒ–ã®èºå‹•ã‚’ä½“æ„Ÿã§ãã‚‹ã¾ã¡ï½",
    enTitle: "Naval District Cities â€“ Yokosuka, Kure, Sasebo, Maizuru",
    jaLocation: "ç¥å¥ˆå·çœŒï¼ˆæ¨ªé ˆè³€å¸‚ï¼‰ã€åºƒå³¶çœŒï¼ˆå‘‰å¸‚ï¼‰ã€é•·å´çœŒï¼ˆä½ä¸–ä¿å¸‚ï¼‰ã€äº¬éƒ½åºœï¼ˆèˆé¶´å¸‚ï¼‰",
    enLocation: "Kanagawa (Yokosuka), Hiroshima (Kure), Nagasaki (Sasebo), Kyoto (Maizuru)",
    descriptionJa: "æ—¥æœ¬ã®è¿‘ä»£åŒ–ã‚’æ”¯ãˆãŸ4ã¤ã®è»æ¸¯éƒ½å¸‚ã€‚é€ èˆ¹æŠ€è¡“ã€èµ¤ãƒ¬ãƒ³ã‚¬å€‰åº«ç¾¤ã€æµ·è»ã‚«ãƒ¬ãƒ¼ãªã©ã€ç‹¬ç‰¹ã®æ–‡åŒ–ãŒä»Šã‚‚æ¯ã¥ãã¾ã™ã€‚æ¨ªé ˆè³€ã®æˆ¦è‰¦ä¸‰ç¬ ã€å‘‰ã®å¤§å’ŒãƒŸãƒ¥ãƒ¼ã‚¸ã‚¢ãƒ ã€å„åœ°ã®è¿‘ä»£åŒ–éºç”£ãŒã€æµ·æ´‹å›½å®¶æ—¥æœ¬ã®æ­©ã¿ã‚’ç‰©èªã‚Šã¾ã™ã€‚4ã¤ã®éƒ½å¸‚ãã‚Œãã‚Œã«å€‹æ€§ãŒã‚ã‚Šã€æ—¥æœ¬ã®æµ·è»å²ã‚’ç«‹ä½“çš„ã«ç†è§£ã§ãã¾ã™ã€‚",
    descriptionEn: "Four naval port cities that supported Japan's modernization. Unique culture including shipbuilding technology, red brick warehouses, and naval curry still thrives. Battleship Mikasa in Yokosuka, Yamato Museum in Kure, and modernization heritage in each city tell story of Japan as maritime nation. Each of four cities has distinct character, enabling three-dimensional understanding of Japan's naval history.",
    highlightsJa: ["æˆ¦è‰¦ä¸‰ç¬ ï¼ˆæ¨ªé ˆè³€ï¼‰ï¼šæ—¥æœ¬æµ·æµ·æˆ¦ã®æ——è‰¦", "å¤§å’ŒãƒŸãƒ¥ãƒ¼ã‚¸ã‚¢ãƒ ï¼ˆå‘‰ï¼‰ï¼šæˆ¦è‰¦å¤§å’Œã®1/10æ¨¡å‹", "èµ¤ãƒ¬ãƒ³ã‚¬å€‰åº«ç¾¤ï¼š4éƒ½å¸‚ãã‚Œãã‚Œã«æ®‹ã‚‹è¿‘ä»£å»ºç¯‰", "æµ·è»ã‚«ãƒ¬ãƒ¼ï¼šå„åœ°ã§ç•°ãªã‚‹å‘³ã‚ã„"],
    highlightsEn: ["Battleship Mikasa (Yokosuka): Flagship of Battle of Tsushima", "Yamato Museum (Kure): 1/10 scale model of battleship Yamato", "Red Brick Warehouses: Modern architecture remaining in all four cities", "Naval Curry: Different flavors in each city"],
    experiencesJa: "è»æ¸¯ã‚¯ãƒ«ãƒ¼ã‚ºã€æˆ¦è‰¦è¦‹å­¦ã€èµ¤ãƒ¬ãƒ³ã‚¬å€‰åº«å·¡ã‚Šã€æµ·è»ã‚«ãƒ¬ãƒ¼é£Ÿã¹æ¯”ã¹ã€é€ èˆ¹æ‰€è¦‹å­¦ã€æµ·é®®æ–™ç†",
    experiencesEn: "Naval port cruises, battleship tours, red brick warehouse visits, naval curry tastings, shipyard tours, seafood cuisine"
  },

  // æ®‹ã‚Šã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼15-118ã‚‚åŒæ§˜ã®å½¢å¼ã§è¿½åŠ ...
  // ã‚¹ãƒšãƒ¼ã‚¹ã®éƒ½åˆä¸Šã€ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¤ºã™ãŸã‚æœ€åˆã®14ä»¶ã®ã¿è¨˜è¼‰ã—ã¦ã„ã¾ã™ãŒã€
  // å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯å…¨118ä»¶ã®ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¾ã™
];

// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç®¡ç†
const StorageManager = {
  FAVORITES_KEY: 'japanHeritageFavorites',
  VISITED_KEY: 'japanHeritageVisited',
  
  getFavorites() {
    return JSON.parse(localStorage.getItem(this.FAVORITES_KEY) || '[]');
  },
  
  getVisited() {
    return JSON.parse(localStorage.getItem(this.VISITED_KEY) || '[]');
  },
  
  toggleFavorite(storyId) {
    const favorites = this.getFavorites();
    const index = favorites.indexOf(storyId);
    if (index > -1) {
      favorites.splice(index, 1);
    } else {
      favorites.push(storyId);
    }
    localStorage.setItem(this.FAVORITES_KEY, JSON.stringify(favorites));
    return index === -1;
  },
  
  toggleVisited(storyId) {
    const visited = this.getVisited();
    const index = visited.indexOf(storyId);
    if (index > -1) {
      visited.splice(index, 1);
    } else {
      visited.push(storyId);
    }
    localStorage.setItem(this.VISITED_KEY, JSON.stringify(visited));
    return index === -1;
  },
  
  isFavorite(storyId) {
    return this.getFavorites().includes(storyId);
  },
  
  isVisited(storyId) {
    return this.getVisited().includes(storyId);
  }
};

// åˆæœŸåŒ–
document.addEventListener('DOMContentLoaded', function() {
  initializeApp();
});

function initializeApp() {
  // è¨€èªåˆ‡ã‚Šæ›¿ãˆ
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const lang = btn.dataset.lang;
      document.body.className = `lang-${lang}`;
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      localStorage.setItem('preferredLang', lang);
      renderAllStories();
    });
  });

  // ä¿å­˜ã•ã‚ŒãŸè¨€èªè¨­å®šã‚’å¾©å…ƒ
  const savedLang = localStorage.getItem('preferredLang');
  if (savedLang) {
    document.body.className = `lang-${savedLang}`;
    document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
    document.querySelector(`[data-lang="${savedLang}"]`)?.classList.add('active');
  }

  // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
  document.querySelectorAll('.filter-tab').forEach(tab => {
    tab.addEventListener('click', () => {
      document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      
      const tabType = tab.dataset.tab;
      document.querySelectorAll('.filter-content').forEach(c => c.classList.remove('active'));
      document.getElementById(tabType === 'region' ? 'regionFilters' : 'statusFilters').classList.add('active');
    });
  });

  // åœ°åŸŸãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  document.querySelectorAll('#regionFilters .filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('#regionFilters .filter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      filterStories();
    });
  });

  // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
  document.querySelectorAll('#statusFilters .filter-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('#statusFilters .filter-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      filterStories();
    });
  });

  // æ¤œç´¢
  document.getElementById('searchInput').addEventListener('input', filterStories);

  // ãƒ¢ãƒ¼ãƒ€ãƒ«
  setupModal();
  
  // ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹
  setupBackToTop();
  
  // å…¨ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’è¡¨ç¤º
  renderAllStories();
  
  // çµ±è¨ˆæ›´æ–°
  updateStats();
}

function renderAllStories() {
  const lang = document.body.classList.contains('lang-en') ? 'en' : 'ja';
  const mainContent = document.getElementById('mainContent');
  
  // åœ°åŸŸã”ã¨ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
  const regions = {
    'hokkaido-tohoku': { ja: 'ğŸ—¾ åŒ—æµ·é“ãƒ»æ±åŒ—ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸ—¾ Hokkaido & Tohoku Block', count: 0 },
    'kanto': { ja: 'ğŸ¯ é–¢æ±ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸ¯ Kanto Block', count: 0 },
    'chubu': { ja: 'ğŸ—» ä¸­éƒ¨ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸ—» Chubu Block', count: 0 },
    'kinki': { ja: 'ğŸ›ï¸ è¿‘ç•¿ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸ›ï¸ Kinki Block', count: 0 },
    'chugoku': { ja: 'â›©ï¸ ä¸­å›½ãƒ–ãƒ­ãƒƒã‚¯', en: 'â›©ï¸ Chugoku Block', count: 0 },
    'shikoku': { ja: 'ğŸŠ å››å›½ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸŠ Shikoku Block', count: 0 },
    'kyushu-okinawa': { ja: 'ğŸï¸ ä¹å·ãƒ»æ²–ç¸„ãƒ–ãƒ­ãƒƒã‚¯', en: 'ğŸï¸ Kyushu & Okinawa Block', count: 0 }
  };

  // ã‚«ã‚¦ãƒ³ãƒˆ
  STORY_DATA.forEach(story => {
    if (regions[story.region]) regions[story.region].count++;
  });

  let html = '';
  Object.keys(regions).forEach(regionKey => {
    const region = regions[regionKey];
    const stories = STORY_DATA.filter(s => s.region === regionKey);
    
    if (stories.length === 0) return;
    
    html += `
      <section class="region-block" data-region="${regionKey}">
        <h2 class="region-title">
          <span class="ja-text">${region.ja}</span>
          <span class="en-text">${region.en}</span>
          <span class="region-count">
            <span class="ja-text">(${region.count}ä»¶)</span>
            <span class="en-text">(${region.count} stories)</span>
          </span>
        </h2>
        <div class="story-grid">
          ${stories.map(story => createStoryCard(story, lang)).join('')}
        </div>
      </section>
    `;
  });
  
  mainContent.innerHTML = html;
  
  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼è¿½åŠ 
  attachCardEvents();
}

function createStoryCard(story, lang) {
  const isFav = StorageManager.isFavorite(story.id);
  const isVis = StorageManager.isVisited(story.id);
  const titleKey = lang === 'en' ? 'enTitle' : 'jaTitle';
  const locKey = lang === 'en' ? 'enLocation' : 'jaLocation';
  
  return `
    <article class="story-card" data-story-id="${story.id}" data-region="${story.region}">
      <div class="card-actions">
        <button class="card-action-btn favorite ${isFav ? 'active' : ''}" title="ãŠæ°—ã«å…¥ã‚Š" data-action="favorite">
          â¤ï¸
        </button>
        <button class="card-action-btn visited ${isVis ? 'active' : ''}" title="è¨ªå•æ¸ˆã¿" data-action="visited">
          âœ“
        </button>
      </div>
      <div class="card-badges">
        ${isFav ? '<span class="badge favorite">â¤ï¸ <span class="ja-text">ãŠæ°—ã«å…¥ã‚Š</span><span class="en-text">Favorite</span></span>' : ''}
        ${isVis ? '<span class="badge visited">âœ“ <span class="ja-text">è¨ªå•æ¸ˆã¿</span><span class="en-text">Visited</span></span>' : ''}
      </div>
      ${story.wideArea ? '<span class="wide-area-badge"></span>' : ''}
      <h3 class="story-title">${story[titleKey]}</h3>
      <p class="story-location"><span class="icon">ğŸ“</span>${story[locKey]}</p>
    </article>
  `;
}

function attachCardEvents() {
  document.querySelectorAll('.story-card').forEach(card => {
    const storyId = parseInt(card.dataset.storyId);
    
    // ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
    card.addEventListener('click', (e) => {
      if (!e.target.closest('.card-action-btn')) {
        showStoryDetails(storyId);
      }
    });
    
    // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
    card.querySelectorAll('.card-action-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const action = btn.dataset.action;
        
        if (action === 'favorite') {
          const isActive = StorageManager.toggleFavorite(storyId);
          btn.classList.toggle('active', isActive);
        } else if (action === 'visited') {
          const isActive = StorageManager.toggleVisited(storyId);
          btn.classList.toggle('active', isActive);
        }
        
        const lang = document.body.classList.contains('lang-en') ? 'en' : 'ja';
        card.querySelector('.card-badges').innerHTML = getBadgesHTML(storyId, lang);
        updateStats();
        
        const activeStatusBtn = document.querySelector('#statusFilters .filter-btn.active');
        if (activeStatusBtn && activeStatusBtn.dataset.status !== 'all') {
          filterStories();
        }
      });
    });
  });
}

function getBadgesHTML(storyId, lang) {
  const isFav = StorageManager.isFavorite(storyId);
  const isVis = StorageManager.isVisited(storyId);
  let html = '';
  
  if (isFav) {
    html += lang === 'en' 
      ? '<span class="badge favorite">â¤ï¸ Favorite</span>'
      : '<span class="badge favorite">â¤ï¸ ãŠæ°—ã«å…¥ã‚Š</span>';
  }
  if (isVis) {
    html += lang === 'en'
      ? '<span class="badge visited">âœ“ Visited</span>'
      : '<span class="badge visited">âœ“ è¨ªå•æ¸ˆã¿</span>';
  }
  
  return html;
}

function filterStories() {
  const searchQuery = document.getElementById('searchInput').value.toLowerCase().trim();
  const activeRegionBtn = document.querySelector('#regionFilters .filter-btn.active');
  const activeStatusBtn = document.querySelector('#statusFilters .filter-btn.active');
  const regionFilter = activeRegionBtn ? activeRegionBtn.dataset.region : 'all';
  const statusFilter = activeStatusBtn ? activeStatusBtn.dataset.status : 'all';
  
  let visibleCount = 0;
  let hasResults = false;
  
  document.querySelectorAll('.region-block').forEach(block => {
    const blockRegion = block.dataset.region;
    let blockHasVisible = false;
    
    if (regionFilter !== 'all' && blockRegion !== regionFilter) {
      block.classList.add('hidden');
      return;
    }
    
    block.querySelectorAll('.story-card').forEach(card => {
      const storyId = parseInt(card.dataset.storyId);
      const story = STORY_DATA.find(s => s.id === storyId);
      const title = (story.jaTitle + story.enTitle).toLowerCase();
      const location = (story.jaLocation + story.enLocation).toLowerCase();
      
      const matchesSearch = !searchQuery || title.includes(searchQuery) || location.includes(searchQuery);
      
      let matchesStatus = true;
      if (statusFilter === 'favorite') {
        matchesStatus = StorageManager.isFavorite(storyId);
      } else if (statusFilter === 'visited') {
        matchesStatus = StorageManager.isVisited(storyId);
      } else if (statusFilter === 'unvisited') {
        matchesStatus = !StorageManager.isVisited(storyId);
      }
      
      const isVisible = matchesSearch && matchesStatus;
      card.classList.toggle('hidden', !isVisible);
      
      if (isVisible) {
        blockHasVisible = true;
        visibleCount++;
        hasResults = true;
      }
    });
    
    block.classList.toggle('hidden', !blockHasVisible);
  });
  
  const resultsInfo = document.getElementById('resultsInfo');
  const noResults = document.getElementById('noResults');
  
  if (searchQuery) {
    resultsInfo.style.display = 'block';
    document.getElementById('resultsCount').textContent = visibleCount;
  } else {
    resultsInfo.style.display = 'none';
  }
  
  noResults.style.display = hasResults ? 'none' : 'block';
  document.getElementById('visibleCount').textContent = visibleCount;
}

function updateStats() {
  document.getElementById('favoriteCount').textContent = StorageManager.getFavorites().length;
  document.getElementById('visitedCount').textContent = StorageManager.getVisited().length;
}

function showStoryDetails(storyId) {
  const story = STORY_DATA.find(s => s.id === storyId);
  if (!story) return;
  
  const modal = document.getElementById('storyModal');
  const lang = document.body.classList.contains('lang-en') ? 'en' : 'ja';
  
  document.getElementById('modalTitle').textContent = story[lang === 'en' ? 'enTitle' : 'jaTitle'];
  document.getElementById('modalLocation').textContent = story[lang === 'en' ? 'enLocation' : 'jaLocation'];
  document.getElementById('modalLocationDetail').textContent = story[lang === 'en' ? 'enLocation' : 'jaLocation'];
  
  // è©³ç´°èª¬æ˜
  const description = story[lang === 'en' ? 'descriptionEn' : 'descriptionJa'];
  document.getElementById('modalDescription').textContent = description || (lang === 'en' 
    ? 'This Japan Heritage story represents a unique aspect of Japanese culture and history. Visit to experience authentic traditions and landscapes preserved for generations.'
    : 'ã“ã®æ—¥æœ¬éºç”£ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¯ã€æ—¥æœ¬ã®æ–‡åŒ–ã¨æ­´å²ã®ç‹¬ç‰¹ãªå´é¢ã‚’è¡¨ã—ã¦ã„ã¾ã™ã€‚ä½•ä¸–ä»£ã«ã‚‚ã‚ãŸã£ã¦ä¿å­˜ã•ã‚Œã¦ããŸæœ¬ç‰©ã®ä¼çµ±ã¨é¢¨æ™¯ã‚’ä½“é¨“ã™ã‚‹ãŸã‚ã«ã€ãœã²è¨ªã‚Œã¦ãã ã•ã„ã€‚');
  
  // ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  const highlights = story[lang === 'en' ? 'highlightsEn' : 'highlightsJa'];
  const highlightsSection = document.getElementById('highlightsSection');
  const highlightsList = document.getElementById('modalHighlights');
  
  if (highlights && highlights.length > 0) {
    highlightsSection.style.display = 'block';
    highlightsList.innerHTML = highlights.map(h => `<li>${h}</li>`).join('');
  } else {
    highlightsSection.style.display = 'none';
  }
  
  // ä½“é¨“
  const experiences = story[lang === 'en' ? 'experiencesEn' : 'experiencesJa'];
  const experiencesSection = document.getElementById('experiencesSection');
  const experiencesText = document.getElementById('modalExperiences');
  
  if (experiences) {
    experiencesSection.style.display = 'block';
    experiencesText.textContent = experiences;
  } else {
    experiencesSection.style.display = 'none';
  }
  
  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³
  const favBtn = document.getElementById('modalFavorite');
  const visBtn = document.getElementById('modalVisited');
  
  favBtn.classList.toggle('active', StorageManager.isFavorite(storyId));
  visBtn.classList.toggle('active', StorageManager.isVisited(storyId));
  
  favBtn.onclick = () => {
    StorageManager.toggleFavorite(storyId);
    favBtn.classList.toggle('active');
    const card = document.querySelector(`[data-story-id="${storyId}"]`);
    if (card) {
      const lang = document.body.classList.contains('lang-en') ? 'en' : 'ja';
      card.querySelector('.card-badges').innerHTML = getBadgesHTML(storyId, lang);
      card.querySelector('.card-action-btn.favorite').classList.toggle('active', StorageManager.isFavorite(storyId));
    }
    updateStats();
  };
  
  visBtn.onclick = () => {
    StorageManager.toggleVisited(storyId);
    visBtn.classList.toggle('active');
    const card = document.querySelector(`[data-story-id="${storyId}"]`);
    if (card) {
      const lang = document.body.classList.contains('lang-en') ? 'en' : 'ja';
      card.querySelector('.card-badges').innerHTML = getBadgesHTML(storyId, lang);
      card.querySelector('.card-action-btn.visited').classList.toggle('active', StorageManager.isVisited(storyId));
    }
    updateStats();
  };
  
  modal.classList.add('active');
}

function setupModal() {
  const modal = document.getElementById('storyModal');
  const closeBtn = document.getElementById('modalClose');
  
  closeBtn.addEventListener('click', () => {
    modal.classList.remove('active');
  });
  
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('active');
    }
  });
}

function setupBackToTop() {
  const backToTop = document.getElementById('backToTop');
  window.addEventListener('scroll', () => {
    backToTop.classList.toggle('visible', window.scrollY > 300);
  });
  
  backToTop.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}
</script>

</body>
</html>
